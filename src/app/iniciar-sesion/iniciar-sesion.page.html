<ion-header [translucent]="true" class="custom-header">
  <ion-toolbar class="custom-toolbar" style="background-color: black;">
    <ion-title style="color: white">PuntoDuoc</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="form-container" style="max-width: 380px; margin: auto; padding: 25px; background-color: white; border-radius: 20px;">
    <h1 class="center" style="color: #0A49A7; text-align: center;">Ingresa tu cuenta</h1>

    <!-- Formulario -->
    <form #loginForm="ngForm" (ngSubmit)="iniciarSesion()" novalidate>

      <!-- Correo Electrónico -->
      <div class="mb-3 position-relative">
        <ion-item class="custom-item">
          <ion-input style="color: black;" type="email" [(ngModel)]="user.email" name="email" placeholder="Correo Electrónico" required></ion-input>
        </ion-item>
        <div *ngIf="emailError" class="error-message">Por favor, introduce un correo electrónico válido.</div>
      </div>

      <!-- Contraseña -->
      <div class="mb-3 position-relative">
        <ion-item class="custom-item">
          <ion-input style="color: black;" type="password" [(ngModel)]="user.password" name="password" placeholder="Contraseña" required minlength="8" maxlength="20"></ion-input>
        </ion-item>
        <div *ngIf="passwordError" class="error-message">La contraseña debe tener entre 8 y 20 caracteres.</div>
      </div>

      <div class="mb-3 remember-me">
        <ion-checkbox slot="start" [(ngModel)]="rememberMe" name="rememberMe" aria-label="Recordar contraseña automáticamente"></ion-checkbox>
        <label for="rememberMe" class="remember-me-label">Recordar contraseña automáticamente</label>
      </div>


      <!-- ¿Olvidaste tu contraseña? -->
      <div class="forgot-password" style="text-align: right;">
        <a (click)="openForgotPasswordAlert()" class="forgot-password-link">Olvidé mi contraseña</a>
      </div>

      <!-- Botón de iniciar sesión -->
      <div class="button-group">
        <ion-button expand="block" type="submit" class="custom-button">
          Iniciar sesión
        </ion-button>
      </div>
      <div class="button-group">
        <ion-button expand="block" [routerLink]="['/registrar-usuarios']" type="button" class="custom-button">
          Registrar Estudiante
        </ion-button>
      </div>
      <div class="button-group">
        <ion-button expand="block" [routerLink]="['/registrar-invitado']" type="button" class="custom-button">
          Registrar Invitado
        </ion-button>
      </div>
    </form>
  </div>

  <!-- Mensaje flotante de error -->
  <div *ngIf="errorMessage" class="toast-message">
    {{ errorMessage }}
  </div>
</ion-content>

<ion-footer collapse="fade" class="footer">
  <p>Síguenos en nuestras redes sociales:</p>
  <div class="social-icons">
    <ion-icon name="logo-facebook" class="social-icon"></ion-icon>
    <ion-icon name="logo-twitter" class="social-icon"></ion-icon>
    <ion-icon name="logo-instagram" class="social-icon"></ion-icon>
  </div>
  <p>&copy; 2024 Punto Duoc. Todos los derechos reservados.</p>
</ion-footer>
